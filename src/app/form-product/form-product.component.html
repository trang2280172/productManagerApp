<h2>Reactive Form thêm sản phẩm</h2>

<form [formGroup]="productForm" (ngSubmit)="onSubmit()">

    <!--<div class="form-group">
        <label for="id">ID Sản phẩm (Test)</label>
        <input type="number" id="id" class="form-control" formControlName="id">
        <div *ngIf="productForm.get('id')?.invalid && productForm.get('id')?.touched" class="text-danger">
            <p *ngIf="productForm.get('id')?.errors?.required">ID là bắt buộc.</p>
            <p *ngIf="productForm.get('id')?.errors?.pattern">ID phải là số nguyên.</p>
        </div>
    </div>-->
    <div class="form-group">
        <label for="title">Tên Sản phẩm</label>
        <input type="text" id="title" class="form-control" formControlName="title">

        <div *ngIf="productForm.get('title')?.invalid && productForm.get('title')?.touched" class="text-danger">
            <p *ngIf="productForm.get('title')?.errors?.required">
                Tên sản phẩm là bắt buộc.
            </p>
        </div>
    </div>

    <div class="form-group">
        <label for="price">Giá ($)</label>
        <input type="number" id="price" class="form-control" formControlName="price">

        <div *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched" class="text-danger">
            <p *ngIf="productForm.get('price')?.errors?.required">
                Giá là bắt buộc.
            </p>
            <p *ngIf="productForm.get('price')?.errors?.min">
                Giá phải là số dương.
            </p>
        </div>
    </div>

    <div class="form-group">
        <label for="category">Danh mục</label>
        <input type="text" id="category" class="form-control" formControlName="category">

        <div *ngIf="productForm.get('category')?.invalid && productForm.get('category')?.touched" class="text-danger">
            <p *ngIf="productForm.get('category')?.errors?.required">
                Danh mục là bắt buộc.
            </p>
        </div>
    </div>

    <div class="form-group">
        <label for="description">Mô tả</label>
        <textarea id="description" class="form-control" rows="3" formControlName="description"></textarea>

        <div *ngIf="productForm.get('description')?.invalid && productForm.get('description')?.touched"
            class="text-danger">
            <p *ngIf="productForm.get('description')?.errors?.required">
                Mô tả là bắt buộc.
            </p>
        </div>
    </div>

    <div class="form-group">
        <label for="image">URL Hình ảnh</label>
        <input type="text" id="image" class="form-control" formControlName="image">
    </div>
    <h2>Thông tin Đánh giá (Rating)</h2>
    <div formGroupName="rating">

        <div class="form-group">
            <label for="rate">Điểm đánh giá (0-5)</label>
            <input type="number" id="rate" class="form-control" formControlName="rate">
            <div *ngIf="productForm.get('rating.rate')?.invalid && productForm.get('rating.rate')?.touched"
                class="text-danger">
                <p *ngIf="productForm.get('rating.rate')?.errors?.required">Điểm đánh giá là bắt buộc.</p>
                <p *ngIf="productForm.get('rating.rate')?.errors?.min || productForm.get('rating.rate')?.errors?.max">
                    Điểm phải nằm trong khoảng 0 đến 5.
                </p>
            </div>
        </div>

        <div class="form-group">
            <label for="count">Số lượt đánh giá</label>
            <input type="number" id="count" class="form-control" formControlName="count">
            <div *ngIf="productForm.get('rating.count')?.invalid && productForm.get('rating.count')?.touched"
                class="text-danger">
                <p *ngIf="productForm.get('rating.count')?.errors?.required">Số lượt đánh giá là bắt buộc.</p>
                <p *ngIf="productForm.get('rating.count')?.errors?.min">Số lượt đánh giá không thể âm.</p>
                <p *ngIf="productForm.get('rating.count')?.errors?.pattern">Phải là số nguyên.</p>
            </div>
        </div>
    </div>
    <br>
    <button (click)="goBack()">Quay lại Trang Chủ</button>
    <button type="submit" [disabled]="!productForm.valid">
        Xác nhận
    </button>
</form>